# ========================================
# ETF RAG Agent Configuration
# ========================================

# ----------------------------------------
# LLM Configuration
# ----------------------------------------
# Choose: "openai" or "local"
# "local" = 무료
# "openai" = OpenAI API 비용 발생
LLM_PROVIDER=local

# OpenAI API Configuration (LLM_PROVIDER=openai 사용 시에만)
# OPENAI_API_KEY=your-openai-api-key-here
# OPENAI_MODEL=gpt-4-turbo-preview
# OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Local LLM Configuration (for local option)
# 임베딩: sentence-transformers (자동 다운로드, 무료)
# LLM: Ollama 설치 필요 (선택사항)
LOCAL_MODEL_PATH=
LOCAL_MODEL_TYPE=qwen2.5:3b
OLLAMA_BASE_URL=http://localhost:11434

# ----------------------------------------
# Weaviate Configuration
# ----------------------------------------
WEAVIATE_URL=http://localhost:8081
WEAVIATE_API_KEY=  # Leave empty for local instance
WEAVIATE_CLASS_NAME=ETFDocument

# ----------------------------------------
# DART API Configuration (선택 - 공시문서 수집용)
# ----------------------------------------
# DART_API_KEY=your-dart-api-key-here
# Get your key from: https://opendart.fss.or.kr/
# Get your key from: https://opendart.fss.or.kr/

# ----------------------------------------
# Crawler Configuration
# ----------------------------------------
# Domestic ETF list URL
NAVER_ETF_LIST_URL=https://finance.naver.com/sise/etf.naver

# Selenium WebDriver (optional - for dynamic pages)
USE_SELENIUM=false
CHROMEDRIVER_PATH=/usr/local/bin/chromedriver

# ----------------------------------------
# Scheduler Configuration
# ----------------------------------------
# Daily crawling time (24-hour format)
CRAWL_TIME_HOUR=9
CRAWL_TIME_MINUTE=0

# Enable/Disable scheduler
ENABLE_SCHEDULER=true

# ----------------------------------------
# Server Configuration
# ----------------------------------------
API_HOST=0.0.0.0
API_PORT=8000

GRPC_HOST=0.0.0.0
GRPC_PORT=50051

# ----------------------------------------
# Data Storage
# ----------------------------------------
DATA_DIR=./data
RAW_DATA_DIR=./data/raw
METADATA_FILE=./data/metadata.json

# ----------------------------------------
# Logging
# ----------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FILE=./logs/etf-rag-agent.log

# ----------------------------------------
# RAG Configuration
# ----------------------------------------
# Number of documents to retrieve
TOP_K_RESULTS=5

# Similarity threshold (0-1)
SIMILARITY_THRESHOLD=0.7

# Enable response caching
ENABLE_CACHE=false
CACHE_TTL_SECONDS=3600

# ----------------------------------------
# Version Control for Vector Store
# ----------------------------------------
# Enable duplicate detection
ENABLE_DUPLICATE_CHECK=true

# Keep historical versions
KEEP_HISTORY=true
MAX_VERSIONS_PER_ETF=10
